<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!-- 화면 해상도에 따라 글자 크기 대응(모바일 대응) -->  
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">  
<!-- jquery CDN -->  
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
<!-- fullcalendar CDN -->  
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css' rel='stylesheet' />  
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js'></script>  
<!-- fullcalendar 언어 CDN -->  
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/locales-all.min.js'></script>
<!-- 모달 CDN --> 
<link rel="stylesheet" href="../css/modal.css" />
<title>Insert title here</title>
</head>
<body>
	<div id='calendar-container' style="margin:0 auto; width:70%;">
		<div id ='calendar'></div>
	</div>
<div class="modal hidden">
  <div class="bg"></div>
  <div class="modalBox">
    <iframe id="/CalendarPopup" src="/CalendarPopup" width="400" height="350"></iframe>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
	  views: {
	  	dayGridMonth: {
           type: 'dayGrid',
           duration: { months: 1 },
           monthMode: true,
           fixedWeekCount: false
      	}
	  },
	  dateClick: function() {
		  open();
	  }
    });
    calendar.render();
  });
  
  const open = () => {
	  debugger;
    document.querySelector(".modal").classList.remove("hidden");
  }

  const close = () => {
	  debugger;
    document.querySelector(".modal").classList.add("hidden");
  }

  document.querySelector(".closeBtn").addEventListener("click", close);
  document.querySelector(".bg").addEventListener("click", close);
  
</script>
</body>
</html>